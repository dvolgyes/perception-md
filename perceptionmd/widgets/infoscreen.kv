#:kivy 1.8

<ImageButton@Button>:
    source: None
    Image:
        source: root.source
        pos: root.pos
        size: root.size

<DICOMView>:
    base_image: img0
    dcm_image: img
    rel: img0.pos

    ScatterLayout:
        size_hint: None,None
        size: img0.size[0],1080
        orientation: 'vertical'
        padding: 0
        spacing: 0
        Image:
            id: img0
            opacity: 1.0
            size_hint: None,None
            size: 0,0
            source: None
            canvas:
                Color:
                    rgb: 1, 1, 1
                Rectangle:
                    size: 930,930
                    pos: self.pos
                    texture: self.texture
        Image:
            id: img
            opacity: 1.0
            size_hint: None,None
            size: 0,0
            pos: img0.pos
            source: None
            canvas:
                Color:
                    rgb: 1, 1, 1
                Rectangle:
                    size: 930,930
                    pos: self.pos
                    texture: self.texture


<Pairwise>:
    document: rst
    grid_layout: grid
    status_bar: grid0
    layout: button_line
    dcmview1: dcm1
    dcmview2: dcm2
    display_window_width: grid1
    display_window_center: grid2
    axial_pos: grid3
    alpha_text: grid4
    alpha_value: grid5
    color_legend: colorimg

    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        canvas:
            Color:
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                size: self.size
        RstDocument:
            id: rst
            base_font_size: 64
            background_color: 0.5, 0.5, 0.5, 1
        GridLayout:
            id: grid
            cols: 3
            spacing: 30
            padding: 15
            DICOMView:
                id: dcm1
            DICOMView:
                id: dcm2
        BoxLayout:
            id: button_line
            font_size: 32
            size_hint: 1,None
            size: 60,30
    ScatterLayout:
        GridLayout:
            id: grid0
            pos: 720,16
            size: 800,60
            size_hint: None,None
            rows: 1
            Label:
                text: "d.w. width:"
                font_size: 16
            Label:
                text: ""
                font_size: 16
                id: grid1
            Label:
                text: "d.w. center:"
                font_size: 16
            Label:
                text: ""
                font_size: 16
                id: grid2
            Label:
                text: "Axial:"
                font_size: 16
            Label:
                id: grid3
                text: ""
                font_size: 16
            Label:
                id: grid4
                text: "Alpha:"
                font_size: 16
            Label:
                id: grid5
                text: ""
                font_size: 16

        Image:
            id: colorimg
            size: 10,930
            size_hint: None,None
            pos: 947,55

<Choice>:
    document: rst
    layout: button_line

    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        canvas:
            Color:
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                size: self.size
        RstDocument:
            id: rst
            base_font_size: 64
            background_color: 0.5, 0.5, 0.5, 1
        BoxLayout:
            id: button_line
            font_size: 32
            size_hint: 1,None
            size: 60,30

<Question>:
    document: rst
    layout: grid_layout
    button: btn

    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        canvas:
            Color:
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                size: self.size
        RstDocument:
            id: rst
            base_font_size: 64
            background_color: 0.5, 0.5, 0.5, 1
            size_hint: 1,2
        GridLayout:
            id: grid_layout
            size_hint: 1,1
            cols: 2
            font_size: 32
        Button:
            id: btn
            text: "Next"
            font_size: 32
            size_hint: 1,None
            size: 32,32
            on_press:
                root.on_button_press(args)

<VGA>:
    button: btn
    dcmview: dcm
    hu_width: grid1
    hu_center: grid2
    axial_pos: grid3
    vga_box: vgaarray

    BoxLayout:
        orientation: 'vertical'
        spacing: 20
        canvas:
            Color:
                rgba: 0.5, 0.5, 0.5, 1
            Rectangle:
                size: self.size
        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            DICOMVIEW:
                id: dcm1
            BoxLayout:
                id: vgaarray
                orientation: 'vertical'

    ScatterLayout:
        GridLayout:
            pos: 720,16
            size: 480,60
            size_hint: None,None
            rows: 1
            Label:
                text: "HU width:"
                font_size: 16
            Label:
                text: "600"
                font_size: 16
                id: grid1
            Label:
                text: "HU center:"
                font_size: 16
            Label:
                text: "200"
                font_size: 16
                id: grid2
            Label:
                text: "Axial:"
                font_size: 16
            Label:
                text: "0"
                font_size: 16
                id: grid3
        Button:
            id: btn
            text: "Next"
            font_size: 32
            size_hint: 1,None
            size: 32,32
            on_press:
                root.on_button_press(args)
